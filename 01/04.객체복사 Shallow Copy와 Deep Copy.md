객체를 복사한다고 하면 가장 널리 알려진 방법으로는 Object.assign과 스프레드 연산자를 통해 복사하는 방식이 있을 것이다. 하지만 이 방법들은 얕은 복사(Shallow Copy)에 해당하며, 객체의 중첩된 구조를 가진 속성까지 완전히 독립적으로 복사하지는 않는다. 그렇다면 Shallow Copy와 Deep Copy는 정확히 무엇이 다를까? 아래에서 구체적으로 살펴보자.

### Shallow Copy (얕은 복사)

Shallow Copy, 즉 얕은 복사는 객체의 최상위 속성만 새로 복사하는 방식이다. 객체의 중첩된 구조를 가진 속성들은 원본과 참조를 공유하게 되며, 이로 인해 중첩 객체의 내용을 수정하면 원본 객체에도 영향을 미친다.

가장 쉽게 할 수 있는 얕은 복사 방법은 Object.assign과 { ...object } 같은 스프레드 연산자를 사용하는 것이다.

ex) Object.assign을 사용한 얕은 복사

```js
const original = {
  name: "Alice",
  details: { age: 25, city: "Wonderland" },
};

const shallowCopy = Object.assign({}, original);

// 중첩 객체의 속성 값을 변경해 보자.
shallowCopy.details.city = "Underland";

console.log(original.details.city); // "Underland" - 원본도 같이 변경됨
```

ex) 스프레드 연산자를 사용한 얕은 복사

```js
const original = {
  name: "Alice",
  details: { age: 25, city: "Wonderland" },
};

const shallowCopy = { ...original }; // 얕은 복사

// 중첩된 객체 속성을 변경해보자.
shallowCopy.details.city = "Underland";

console.log(original.details.city); // "Underland" - 원본 객체도 같이 변경됨
```

---

Deep Copy (깊은 복사)
Deep Copy는 객체의 모든 속성과 중첩된 객체들까지 완전히 복사하여 독립적인 객체를 만든다. 이렇게 하면 복사본을 수정해도 원본에는 전혀 영향을 미치지 않는다.

방법 1: JSON 방식의 Deep Copy
간단히 JSON.parse(JSON.stringify(...))를 사용해서 깊은 복사를 할 수 있다. 하지만 이 방법은 undefined, 함수 같은 특수 값을 복사하지 못한다.

ex)

```js
const original = {
  name: "아이유",
  age: 30,
  album: {
    Lilac: "타이틀곡",
    Palette: 2017,
  },
};

const deepCopy = JSON.parse(JSON.stringify(original));
deepCopy.album.Lilac = 2021;

console.log(original.album.Lilac); // "타이틀곡" - 원본은 그대로
console.log(deepCopy.album.Lilac); // 2021 - 복사본만 변경됨
```

이 방식으로 만든 deepCopy는 완전히 독립적인 복사본이 되기 때문에, album.Lilac 속성을 변경해도 원본에는 영향을 주지 않는다.

정리
Shallow Copy: Object.assign이나 { ...object }로 최상위 속성만 복사하며, 중첩된 객체는 원본과 참조를 공유한다.
Deep Copy: JSON.parse(JSON.stringify(...))나 재귀 함수를 사용해 중첩된 객체까지 완전히 복사한다.
복사할 객체가 중첩 구조를 가지는 경우에는 Deep Copy를 사용해서 원본과 독립적인 객체를 만들어 주는 것이 안전하다.
